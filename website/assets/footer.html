<script type="text/javascript">
  // Give all elements with class ".quarto-navigation-tool" an attribute & value: target="_blank" 
  const navigationTools = document.querySelectorAll('.quarto-navigation-tool');

  // add a Google Drive link on the nav bar
  let lastNavigationTool = navigationTools[navigationTools.length - 1];
  lastNavigationTool.insertAdjacentHTML('beforeend', '<svg role="img" style="width:24px;" viewBox="0 0 24 24"><path d="M12.01 1.485c-2.082 0-3.754.02-3.743.047.01.02 1.708 3.001 3.774 6.62l3.76 6.574h3.76c2.081 0 3.753-.02 3.742-.047-.005-.02-1.708-3.001-3.775-6.62l-3.76-6.574zm-4.76 1.73a789.828 789.861 0 0 0-3.63 6.319L0 15.868l1.89 3.298 1.885 3.297 3.62-6.335 3.618-6.33-1.88-3.287C8.1 4.704 7.255 3.22 7.25 3.214zm2.259 12.653-.203.348c-.114.198-.96 1.672-1.88 3.287a423.93 423.948 0 0 1-1.698 2.97c-.01.026 3.24.042 7.222.042h7.244l1.796-3.157c.992-1.734 1.85-3.23 1.906-3.323l.104-.167h-7.249z"/></svg>');

  navigationTools.forEach(tool => {
    tool.setAttribute('target', '_blank');
  });

  // insert footer elements at the end of <body> tag
  const currentYear = new Date().getFullYear();

  document.body.insertAdjacentHTML('beforeend', `


  <footer class="custom-footer">
    <div class="footer-container">
      <div class="footer-top">
        <div class="footer-row">
          <div class="logo-wrap">
            <img src="https://internal.ssgvip.com/assets/ssg_logo_white_l1.svg" alt="ssg logo" class="ssg-logo">
          </div>
          <p class="ssg-desc">Software for Social Good is a faculty-led <a href="https://www.vip-consortium.org/" target="_blank">Vertically Integrated Project (VIP)</a> team at <a href="https://egr.vcu.edu/" target="_blank">VCU College of Engineering</a> founded in 2022.</p>
          <div class="tools-wrap">
            <a href="https://github.com/vcu-ssg" target="_blank"><i class="bi bi-github"></i></a> 
            <a href="https://discord.gg/xv29j9fVRd" target="_blank"><i class="bi bi-discord"></i></a>
            <a href="https://drive.google.com/drive/folders/1C-ZoZjMOefov00WoYVMJiCe4Avw8zg6c?usp=sharing" target="_blank"><svg role="img" viewBox="0 0 24 24"><path d="M12.01 1.485c-2.082 0-3.754.02-3.743.047.01.02 1.708 3.001 3.774 6.62l3.76 6.574h3.76c2.081 0 3.753-.02 3.742-.047-.005-.02-1.708-3.001-3.775-6.62l-3.76-6.574zm-4.76 1.73a789.828 789.861 0 0 0-3.63 6.319L0 15.868l1.89 3.298 1.885 3.297 3.62-6.335 3.618-6.33-1.88-3.287C8.1 4.704 7.255 3.22 7.25 3.214zm2.259 12.653-.203.348c-.114.198-.96 1.672-1.88 3.287a423.93 423.948 0 0 1-1.698 2.97c-.01.026 3.24.042 7.222.042h7.244l1.796-3.157c.992-1.734 1.85-3.23 1.906-3.323l.104-.167h-7.249z"/></svg></a>
          </div>
        </div>
        <div class="footer-row">
          <div class="link-wrap">
            <div class="footer-link">
              <i class="bi bi-envelope contact"></i><p class="link-list-title">Contact</p>
            </div>
            <a href="mailto: wbenton@vcu.edu" class="link"><p>wbenton@vcu.edu | Faculty</p></a>
            <a href="mailto: jdleonard@vcu.edu" class="link"><p>jdleonard@vcu.edu | Faculty</p></a>
          </div>
          <div class="link-wrap">
            <div class="footer-link">
              <i class="bi bi-box-arrow-in-right join-us"></i><p class="link-list-title">Join Us</p>
            </div>
            <a href="" class="link"><!--insert resource link--><p>Student Recruitment</p></a>
          </div>
          <div class="link-wrap">
            <div class="footer-link">
              <i class="bi bi-geo-alt location"></i><p class="link-list-title">Location</p>
            </div>
            <p class="link">Virginia Commonwealth University, College of Engineering, ERB 2336, 401 W Main St, Richmond, VA 23284</p> 
          </div>
        </div>
      </div>
    </div>
    <div class="footer-bottom">
      <p class="copyright">Â© Software for Social Good at Virginia Commonwealth University ${currentYear}</p>
    </div>
  </footer>

  <div id="backtop">
    <div class="scroll-top">
      <i class="bi bi-caret-up-fill"></i>
      <p>top</p>
    </div>
  </div>
  `);

  //Scroll to element  
  let backtopElement = document.getElementById("backtop");

  window.addEventListener("scroll", function () {
    if (window.pageYOffset > window.innerHeight / 4) {
      backtopElement.style.opacity = 1;
      backtopElement.style.pointerEvents = "auto";
    } else {
      backtopElement.style.opacity = 0;
      backtopElement.style.pointerEvents = "none";
    }
  });

  backtopElement.addEventListener("click", function () {
    window.scrollTo({
      top: document.body.offsetTop,
      behavior: "smooth",
    });
  });

// members list page text overflow fix:
const elements = document.querySelectorAll(".members-profile .major p");

function truncateText(element) {
  const smallScreenMaxLength = 80;
  const largeScreenMaxLength = 60;
  const maxLength = window.innerWidth > 1170 ? largeScreenMaxLength : smallScreenMaxLength;

  const text = element.textContent.trim();

  if (text.length > maxLength) {
    const truncatedText = text.slice(0, maxLength) + "...";
    element.textContent = truncatedText;
  }
}

elements.forEach(truncateText);
</script>


